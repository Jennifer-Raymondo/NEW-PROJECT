doctype html
html
  head
    meta(charset='UTF-8')
    title Stock Records - MWF
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css' rel='stylesheet')
    link(rel='stylesheet' href='/css/style.css')

  body
    .container.mt-5
      h2.text-center.mb-4 Stock Records
      .table-responsive
        table.table.table-striped.table-bordered.table-hover
          thead.table-dark
            tr
              th Product Name
              th Product Type
              th Supplier Name
              th Quantity
              th Cost Price (UGX)
              th Selling Price (UGX)
              th Date Received
              th Quality
              th Action
          tbody
            if stocks && stocks.length
              each stock in stocks
                tr
                  td #{stock.productName}
                  td #{stock.productType}
                  td #{stock.supplierName}
                  td #{stock.quantity}
                  td #{stock.costPrice}
                  td #{stock.sellingPrice}
                  td #{stock.dateReceived ? (new Date(stock.dateReceived)).toLocaleDateString() : ''}
                  td #{stock.quality}
                  td.d-flex.gap-2
                    a.btn.btn-sm.btn-warning(href=`/stock/edit/${stock._id}`) Edit
                    form(action=`/stock/delete/${stock._id}` method='post')
                      button.btn.btn-sm.btn-danger(type='submit') Delete
            else
              tr
                td(colspan='9').text-center.text-muted No stock records found.

      .d-flex.justify-content-end.mt-3
        a.btn.btn-success(href='/stock') + Add New Stock

    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js')
